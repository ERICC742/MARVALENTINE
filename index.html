
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Makayla üíú</title>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;500&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
    font-family:'Poppins',sans-serif;
    background:linear-gradient(135deg,#f3e8ff,#ede9fe);
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    overflow:hidden;
}

/* Click overlay */
#startOverlay{
    position:fixed;top:0;left:0;width:100%;height:100%;
    background: rgba(240,240,255,0.95);
    display:flex;justify-content:center;align-items:center;flex-direction: column;
    z-index:9999;
}
#startOverlay h1{
    font-family:'Great Vibes', cursive; font-size:48px; color:#7c3aed; margin-bottom:20px;
}
#startOverlay button{
    font-size:22px;padding:15px 30px;background:#a78bfa;color:white;
    border:none;border-radius:25px;cursor:pointer;
}

/* Envelope */
.envelope{
    width:260px;height:180px;
    background:#c4b5fd;
    border-radius:14px;
    position:relative;
    cursor:pointer;
    box-shadow:0 15px 30px rgba(0,0,0,0.25);
    transition: transform 1s ease;
    display:flex;justify-content:center;align-items:flex-end;
}
.envelope.open{ transform: scale(0.8) rotateX(10deg); }

.flap{
    position:absolute;top:0;width:100%;height:100%;
    background:#a78bfa;
    clip-path: polygon(0 0, 50% 55%, 100% 0);
    transform-origin: top center;
    transition: transform 1s ease;
}
.envelope.open .flap{ transform: rotateX(180deg); }

.sticker{
    position:absolute;width:70px;height:70px;
    background:#fb7185;border-radius:50%;
    top:55px; left:95px;
    display:flex;align-items:center;justify-content:center;
    color:white;font-weight:bold;
}

/* Letter */
.letter{
    width:260px;
    min-height:250px;
    background: #fffdf5; /* soft paper color */
    border-radius: 15px;
    position:absolute;
    top:180px; left:50%;
    transform:translate(-50%, -100%);
    box-shadow:0 15px 25px rgba(0,0,0,0.25);
    transition: transform 1s ease, opacity 1s ease;
    opacity:0;
    padding:25px;
    text-align:center;
    font-family: 'Great Vibes', cursive;
    font-size: 20px;
    line-height: 1.5;
}

/* When letter opens, center screen */
.letter.open{
    top:50%;
    transform: translate(-50%, -50%);
    opacity:1;
}

/* Hearts floating */
.heart-float{
    position:absolute;bottom:-20px;
    font-size:20px;
    animation:floatUp 8s linear infinite;
    opacity:0.7;
}
@keyframes floatUp{from{transform:translateY(0);} to{transform:translateY(-110vh);}}

/* Confetti style is handled in JS */

/* Photos as hearts */
.photo{
    width:200px;
    height:200px;
    object-fit: cover;
    display:none;
    margin:15px auto;
    box-shadow:0 10px 20px rgba(0,0,0,0.2);
    clip-path: polygon(
        50% 0%, 
        61% 5%, 
        70% 15%, 
        75% 25%, 
        80% 40%, 
        75% 55%, 
        60% 70%, 
        50% 80%, 
        40% 70%, 
        25% 55%, 
        20% 40%, 
        25% 25%, 
        30% 15%, 
        39% 5%
    );
}

/* Final poem / Valentine note */
.poem{
    background:white;padding:20px;border-radius:15px;display:none;margin:15px auto;
}
.poem h1{ font-family:'Great Vibes', cursive; font-size:36px; color:#7c3aed; margin-bottom:10px; }

/* Buttons */
button{ padding:10px 22px; border:none;border-radius:25px; cursor:pointer;margin:6px; }
.yes{ background:#a78bfa;color:white; }
.no{ background:#fda4af; position:relative; }

/* Final message */
.final{ display:none; font-size:26px; font-weight:bold; color:#7c3aed; margin-top:20px; }
</style>
</head>
<body>

<audio id="music" loop>
    <source src="music.mp3" type="audio/mpeg">
</audio>

<!-- Click Overlay -->
<div id="startOverlay">
    <h1>Makayla üíú</h1>
    <button onclick="startPage()">Click to Start</button>
</div>

<!-- Envelope -->
<div class="envelope" id="envelope" onclick="openLetter()">
    <div class="flap"></div>
    <div class="sticker">For You </div>
</div>

<!-- Letter -->
<div class="letter" id="letter">

    <!-- Letter content first -->
    <div id="letterContent">
        <div class="bouquet">üíê</div>
        <p>Dear Makayla,</p>
        <p>Every moment with you feels like home.<br>
           Your smile brightens my darkest days,<br>
           And your laugh is my favorite sound.<br>
           I‚Äôm grateful for you ‚Äî today and always.</p>
    </div>

    <!-- Photos -->
    <img src="photo1.jpeg" class="photo" id="p1">
    <img src="photo2.jpeg" class="photo" id="p2">
    <img src="photo3.jpeg" class="photo" id="p3">
    <img src="photo4.jpeg" class="photo" id="p4">
    <img src="photo6.jpeg" class="photo" id="p6">
    <img src="photo7.jpeg" class="photo" id="p7">
    <img src="photo8.jpeg" class="photo" id="p8">

    <!-- Final Valentine note -->
    <div class="poem" id="poem">
        <h1>Will you be my Valentine? </h1>
        <div>
            <button class="yes" onclick="accept()">Yes üíú</button>
            <button class="no" id="noBtn">No üôà</button>
        </div>
    </div>

    <!-- Final message -->
    <div class="final" id="final">
         You just made me the happiest person alive !!
    </div>
</div>

<script>
// Start overlay click
function startPage(){
    document.getElementById("startOverlay").style.display="none";
    document.getElementById("music").play();
}

// Envelope click ‚Üí open letter + confetti
function openLetter(){
    document.getElementById("envelope").classList.add("open");
    confettiBurst(); // subtle confetti

    setTimeout(()=>{
        document.getElementById("envelope").style.display="none";
        const letter = document.getElementById("letter");
        letter.classList.add("open");

        // Start hearts floating
        startHearts();

        // Start photo slideshow after 15 seconds
        setTimeout(startSlideshow,15000);

    },1000);
}

// Hearts floating
function startHearts(){
    setInterval(()=>{
        let heart=document.createElement("div");
        heart.className="heart-float";
        heart.innerHTML="üíú";
        heart.style.left=Math.random()*100+"vw";
        heart.style.fontSize=(Math.random()*20+15)+"px";
        document.body.appendChild(heart);
        setTimeout(()=>heart.remove(),8000);
    },500);
}

// Confetti burst
function confettiBurst(){
    for(let i=0;i<50;i++){
        let confetti = document.createElement("div");
        confetti.style.position="absolute";
        confetti.style.width="8px";
        confetti.style.height="8px";
        confetti.style.background=["#f87171","#fb7185","#a78bfa","#c4b5fd","#fcd34d"][Math.floor(Math.random()*5)];
        confetti.style.left=Math.random()*100+"vw";
        confetti.style.top="0px";
        confetti.style.opacity=1;
        confetti.style.borderRadius="50%";
        document.body.appendChild(confetti);

        let fall = confetti.animate([
            { transform: `translateY(0px) rotate(0deg)` },
            { transform: `translateY(${window.innerHeight + 50}px) rotate(${Math.random()*360}deg)` }
        ], {
            duration: 3000 + Math.random()*2000,
            iterations: 1,
            easing: "ease-out"
        });
        fall.onfinish = () => confetti.remove();
    }
}

// Photo slideshow
function startSlideshow(){
    let startTime = 0;
    let duration = 8000; // 8s per photo
    for(let i=1;i<=7;i++){
        setTimeout(()=>showPhoto("p"+i), startTime);
        setTimeout(()=>hidePhoto("p"+i), startTime+duration);
        startTime += duration+200;
    }
    setTimeout(()=>{document.getElementById("poem").style.display="block";}, startTime);
}

function showPhoto(id){ document.getElementById(id).style.display="block"; }
function hidePhoto(id){ document.getElementById(id).style.display="none"; }

// Accept Yes
function accept(){
    document.getElementById("poem").style.display="none";
    document.getElementById("final").style.display="block";
}

// Runaway No button
const noBtn = document.getElementById("noBtn");
noBtn.addEventListener("mouseenter", moveButton);
noBtn.addEventListener("touchstart", moveButton);
function moveButton(){
    const x=Math.random()*200-100;
    const y=Math.random()*150-75;
    noBtn.style.transform=`translate(${x}px, ${y}px)`;
}
</script>
</body>
</html>
