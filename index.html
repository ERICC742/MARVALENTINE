<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine‚Äôs Day 2026</title>

<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
* {margin:0;padding:0;box-sizing:border-box;font-family:'Press Start 2P', cursive;}
body {
  background: radial-gradient(circle,#1a0033,#000);
  color:#c77dff;
  height:100vh;
  overflow:hidden;
}

/* ---------- SCREENS ---------- */
.screen {
  position:absolute;
  inset:0;
  display:none;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
}
.screen.active {display:flex;animation:fade .6s ease forwards;}
@keyframes fade {from{opacity:0}to{opacity:1}}

.title {
  font-size:1.3rem;
  margin-bottom:20px;
  text-shadow:0 0 12px #9d4edd,0 0 30px #7b2cbf;
}

button {
  background:transparent;
  color:#fff;
  border:3px solid #c77dff;
  padding:12px 24px;
  font-size:.8rem;
  margin:10px 0;
  cursor:pointer;
  box-shadow:0 0 15px #9d4edd;
}
button:active {transform:scale(.95)}

#startBtn {animation:glowPulse 2s infinite;}
@keyframes glowPulse {
  0%{box-shadow:0 0 12px #7b2cbf}
  100%{box-shadow:0 0 35px #e0aaff}
}

/* ---------- MEMORIES ---------- */
#memoriesScreen .photos {
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:24px;
}
#memoriesScreen img {
  width:150px;height:200px;object-fit:cover;
  background:#fff;padding:10px 10px 30px;
  box-shadow:0 8px 20px rgba(199,125,255,.35);
}

/* ---------- MODAL ---------- */
#photoModal {
  position:fixed;inset:0;
  background:rgba(0,0,0,.85);
  display:none;justify-content:center;align-items:center;
}
#photoModal.active{display:flex;}
#photoModal img{max-width:80%;border:4px solid #c77dff}

/* ---------- LETTER ---------- */
#letterScreen p {
  width:80%;
  max-width:400px;
  font-size:.7rem;
  line-height:1.5;
  white-space:pre-wrap;
}

/* ---------- PACMAN ---------- */
#pacmanCanvas {
  background:#000;
  border:3px solid #c77dff;
  touch-action:none;
}

/* ---------- MOBILE CONTROLS ---------- */
.pac-controls {
  display:grid;
  grid-template-columns:70px 70px 70px;
  gap:10px;
  margin-top:15px;
}
.pac-controls button {
  font-size:1.2rem;
  padding:12px;
}
</style>
</head>

<body>

<audio id="bgMusic" src="music.mp3" loop playsinline></audio>

<!-- START -->
<div id="startScreen" class="screen active">
  <div class="title">VALENTINE‚ÄôS DAY 2026</div>
  <button id="startBtn">START</button>
</div>

<!-- PLAYER SELECT -->
<div id="playerSelect" class="screen">
  <button id="onePlayerBtn">1 PLAYER</button>
  <button id="twoPlayerBtn">2 PLAYERS</button>
</div>

<!-- LOCKED -->
<div id="lockedScreen" class="screen">
  <div class="title">ACCESS DENIED</div>
  <button id="returnBtn">RETURN</button>
</div>

<!-- HUB -->
<div id="hubScreen" class="screen">
  <button id="memoriesBtn">MEMORIES</button>
  <button id="topSongsBtn">TOP 5 SONGS</button>
  <button id="letterBtn">A LETTER</button>
  <button id="gameBtn">GAME</button>
  <button id="videoBtn">VIDEO</button>
</div>

<!-- MEMORIES -->
<div id="memoriesScreen" class="screen">
  <div class="title">MEMORIES</div>
  <div class="photos">
    <img src="photo1.jpeg"><img src="photo2.jpeg">
    <img src="photo3.jpeg"><img src="photo4.jpeg">
    <img src="photo5.jpeg"><img src="photo6.jpeg">
    <img src="photo7.jpeg"><img src="photo8.jpeg">
  </div>
  <button class="backBtn">RETURN</button>
</div>

<div id="photoModal"><img id="modalImg"></div>

<!-- LETTER -->
<div id="letterScreen" class="screen">
  <div class="title">A LETTER</div>
  <p id="letterText"></p>
  <button class="backBtn">RETURN</button>
</div>

<!-- GAME (PAC-MAN) -->
<div id="gameScreen" class="screen">
  <div class="title">PAC-MAN üíö</div>
  <canvas id="pacmanCanvas" width="300" height="300"></canvas>
  <div class="pac-controls">
    <div></div><button onclick="setDir(0,-1)">‚¨ÜÔ∏è</button><div></div>
    <button onclick="setDir(-1,0)">‚¨ÖÔ∏è</button>
    <button onclick="setDir(0,1)">‚¨áÔ∏è</button>
    <button onclick="setDir(1,0)">‚û°Ô∏è</button>
  </div>
  <button class="backBtn">RETURN</button>
</div>

<!-- VIDEO -->
<div id="videoScreen" class="screen">
  <div class="title">VIDEO</div>
  <video src="valentine_video.mp4" controls width="300"></video>
  <button class="backBtn">RETURN</button>
</div>

<script>
/* ---------- SCREEN CONTROL ---------- */
function showScreen(id){
  document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

/* ---------- MUSIC ---------- */
const bgMusic=document.getElementById("bgMusic");
startBtn.onclick=()=>{showScreen("playerSelect");bgMusic.play().catch(()=>{});}
onePlayerBtn.onclick=()=>showScreen("lockedScreen");
returnBtn.onclick=()=>showScreen("playerSelect");
twoPlayerBtn.onclick=()=>showScreen("hubScreen");

/* ---------- HUB ---------- */
memoriesBtn.onclick=()=>showScreen("memoriesScreen");
letterBtn.onclick=()=>{showScreen("letterScreen");startLetter();}
gameBtn.onclick=()=>{showScreen("gameScreen");startPacman();}
videoBtn.onclick=()=>showScreen("videoScreen");

document.querySelectorAll(".backBtn").forEach(b=>{
  b.onclick=()=>showScreen("hubScreen");
});

/* ---------- LETTER ---------- */
const letter=`Dear Love,

Every moment with you feels like home.
This is just a small reminder of how much you mean to me.

Love always ‚ù§Ô∏è`;
let li=0;
function startLetter(){
  letterText.textContent="";
  li=0;
  (function type(){
    if(li<letter.length){
      letterText.textContent+=letter[li++];
      setTimeout(type,40);
    }
  })();
}

/* ---------- PAC-MAN GAME ---------- */
let pacLoop;
function startPacman(){
  const c=pacmanCanvas,ctx=c.getContext("2d");
  const tile=15;
  const map=[
    "####################",
    "#........##........#",
    "#.####.###..###.####.#",
    "#..................#",
    "#.####.#.######.#.##",
    "#......#....##....#",
    "######.####..####.##",
    "#..................#",
    "#.####.##.####.##.##",
    "#......##....##....#",
    "####################"
  ];
  let pac={x:1,y:1,dx:0,dy:0};
  let pellets=[];
  map.forEach((r,y)=>r.split("").forEach((c,x)=>c==="."&&pellets.push({x,y})));

  function heart(x,y){
    ctx.fillStyle="#39ff14";
    ctx.beginPath();
    ctx.arc(x,y,3,0,Math.PI*2);
    ctx.fill();
  }

  function loop(){
    ctx.clearRect(0,0,c.width,c.height);
    ctx.fillStyle="#9d4edd";
    map.forEach((r,y)=>r.split("").forEach((v,x)=>{
      if(v==="#")ctx.fillRect(x*tile,y*tile,tile,tile);
    }));
    pellets=pellets.filter(p=>{
      heart(p.x*tile+7,p.y*tile+7);
      return !(p.x===pac.x&&p.y===pac.y);
    });
    if(map[pac.y+pac.dy]?.[pac.x+pac.dx]!=="#"){
      pac.x+=pac.dx;pac.y+=pac.dy;
    }
    ctx.beginPath();
    ctx.arc(pac.x*tile+7,pac.y*tile+7,7,.25*Math.PI,1.75*Math.PI);
    ctx.fillStyle="gold";
    ctx.fill();
    pacLoop=requestAnimationFrame(loop);
  }
  loop();
}
function setDir(x,y){window.event?.preventDefault();pacDir={x,y};}
</script>

</body>
</html>
